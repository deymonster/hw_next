# üõ†Ô∏è –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ HW Monitor

–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –ø–æ —Ä–∞–±–æ—Ç–µ —Å –ø—Ä–æ–µ–∫—Ç–æ–º –æ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤ –¥–æ —Ä–µ–ª–∏–∑–∞.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
- [Workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](#workflow-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- [–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤](#–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–±–∞–≥–æ–≤)
- [–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∏—á](#–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ-–Ω–æ–≤—ã—Ö-—Ñ–∏—á)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [–†–µ–ª–∏–∑](#—Ä–µ–ª–∏–∑)
- [–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã](#–ø–æ–ª–µ–∑–Ω—ã–µ-–∫–æ–º–∞–Ω–¥—ã)

## üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**

```bash
git clone <repository-url>
cd hw-monitor
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**

```bash
yarn install
```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**

```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
```

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ Docker**

```bash
docker --version
docker-compose --version
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–∫—Ä—É–∂–µ–Ω–∏–π

- **DEV** - –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (Next.js —á–µ—Ä–µ–∑ `yarn dev` + —Å–µ—Ä–≤–∏—Å—ã –≤ Docker)
- **TEST** - –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–≤—Å–µ –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö)
- **PROD** - –ø—Ä–æ–¥–∞–∫—à–Ω (–æ—Å–Ω–æ–≤–Ω–æ–π `docker-compose.prod.yml`)

## üîÑ Workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –û–±—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å

### –í–µ—Ç–∫–∏

- `main` - —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ç–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞
- `feature/–Ω–∞–∑–≤–∞–Ω–∏–µ-—Ñ–∏—á–∏` - –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `bugfix/–Ω–∞–∑–≤–∞–Ω–∏–µ-–±–∞–≥–∞` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤
- `hotfix/–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π-–±–∞–≥` - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ç–∫–∏ –¥–ª—è –±–∞–≥–∞

```bash
# –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ main –∏ –æ–±–Ω–æ–≤–ª—è–µ–º
git checkout main
git pull origin main

# –°–æ–∑–¥–∞–µ–º –≤–µ—Ç–∫—É –¥–ª—è –±–∞–≥–∞
git checkout -b bugfix/fix-user-login-issue
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
make dev-up

# –í –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å–∫–∞–µ–º Next.js
yarn dev
```

**–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:**

- Next.js: http://localhost:3000
- LICD: http://localhost:8082
- Prometheus: http://localhost:9090
- Alertmanager: http://localhost:9093
- Nginx Combined (Proxy): http://localhost:8080
- Nginx Combined (Storage): http://localhost:8081

### –®–∞–≥ 3: –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞

1. **–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–∏—Ç–µ –±–∞–≥** –Ω–∞ http://localhost:3000
2. **–ù–∞–π–¥–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É** –∏—Å–ø–æ–ª—å–∑—É—è:
    - –õ–æ–≥–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
    - –õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–æ–≤: `make dev-logs`
    - –õ–æ–≥–∏ Next.js –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
3. **–ò—Å–ø—Ä–∞–≤—å—Ç–µ –∫–æ–¥**
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** (hot reload —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```bash
# –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ä–µ–¥–µ
make test-feature
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ http://localhost:3001

### –®–∞–≥ 5: –ö–æ–º–º–∏—Ç –∏ –ø—É—à

```bash
# –î–æ–±–∞–≤–ª—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .

# –ö–æ–º–º–∏—Ç–∏–º —Å –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
git commit -m "fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è email –≤ —Ñ–æ—Ä–º–µ –≤—Ö–æ–¥–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ –Ω–µ–≤–µ—Ä–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è
- –£–ª—É—á—à–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

Fixes #123"

# –ü—É—à–∏–º –≤–µ—Ç–∫—É
git push origin bugfix/fix-user-login-issue
```

### –®–∞–≥ 6: –°–æ–∑–¥–∞–Ω–∏–µ Pull Request

1. –ò–¥–∏—Ç–µ –Ω–∞ GitHub/GitLab
2. –°–æ–∑–¥–∞–π—Ç–µ PR –∏–∑ `bugfix/fix-user-login-issue` –≤ `main`
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ:
    - –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
    - –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
    - –°–∫—Ä–∏–Ω—à–æ—Ç—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### –®–∞–≥ 7: –ü–æ—Å–ª–µ –º–µ—Ä–∂–∞

```bash
# –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ main –∏ –æ–±–Ω–æ–≤–ª—è–µ–º
git checkout main
git pull origin main

# –£–¥–∞–ª—è–µ–º –ª–æ–∫–∞–ª—å–Ω—É—é –≤–µ—Ç–∫—É
git branch -d bugfix/fix-user-login-issue

# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º dev —Å—Ä–µ–¥—É
make dev-down
```

## ‚ú® –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∏—á

### –®–∞–≥ 1: –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏—á–∏

1. **–°–æ–∑–¥–∞–π—Ç–µ issue** —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ñ–∏—á–∏
2. **–û–±—Å—É–¥–∏—Ç–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** —Å –∫–æ–º–∞–Ω–¥–æ–π
3. **–†–∞–∑–±–µ–π—Ç–µ –Ω–∞ –ø–æ–¥–∑–∞–¥–∞—á–∏** –µ—Å–ª–∏ —Ñ–∏—á–∞ –±–æ–ª—å—à–∞—è

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ç–∫–∏

```bash
git checkout main
git pull origin main
git checkout -b feature/add-device-tags-and-location
```

### –®–∞–≥ 3: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –ó–∞–ø—É—Å–∫ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
make dev-up
yarn dev
```

**–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**

1. **Backend –∏–∑–º–µ–Ω–µ–Ω–∏—è** (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã):

    - –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ö–µ–º—É –ë–î –≤ `prisma/schema.prisma`
    - –°–æ–∑–¥–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏: `npx prisma migrate dev`
    - –û–±–Ω–æ–≤–∏—Ç–µ API endpoints –≤ `app/api/`

2. **Frontend –∏–∑–º–µ–Ω–µ–Ω–∏—è**:

    - –°–æ–∑–¥–∞–π—Ç–µ/–æ–±–Ω–æ–≤–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ `components/`
    - –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ `app/`
    - –û–±–Ω–æ–≤–∏—Ç–µ —Ç–∏–ø—ã –≤ TypeScript

3. **LICD –∏–∑–º–µ–Ω–µ–Ω–∏—è** (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã):
    - –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `licd/`
    - –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ: `make rebuild-licd-dev`

### –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
yarn type-check

# –õ–∏–Ω—Ç–∏–Ω–≥
yarn lint

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
yarn format
```

### –®–∞–≥ 5: –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏—á–∏

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ dev —Å—Ä–µ–¥—ã
make dev-down

# –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ä–µ–¥–µ
make test-feature
```

**–ß–µ–∫-–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

- [ ] –§–∏—á–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–∂–∏–¥–∞–µ—Ç—Å—è
- [ ] –ù–µ —Å–ª–æ–º–∞–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] UI –æ—Ç–∑—ã–≤—á–∏–≤—ã–π –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —ç–∫—Ä–∞–Ω–∞—Ö
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏
- [ ] –î–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î
- [ ] API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã

### –®–∞–≥ 6: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

1. **–û–±–Ω–æ–≤–∏—Ç–µ README** –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
2. **–î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** –∫ —Å–ª–æ–∂–Ω–æ–º—É –∫–æ–¥—É
3. **–û–±–Ω–æ–≤–∏—Ç–µ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** –µ—Å–ª–∏ –¥–æ–±–∞–≤–∏–ª–∏ endpoints

### –®–∞–≥ 7: –ö–æ–º–º–∏—Ç –∏ PR

```bash
git add .
git commit -m "feat: –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ–≥–∏ –∏ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤

- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ device_tags –≤ —Å—Ö–µ–º—É –ë–î
- –°–æ–∑–¥–∞–Ω API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–≥–∞–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç TagManager –¥–ª—è UI
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–∏—Å–∫ –ø–æ —Ç–µ–≥–∞–º –∏ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

Closes #456"

git push origin feature/add-device-tags-and-location
```

–°–æ–∑–¥–∞–π—Ç–µ PR —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º.

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ dev —Å—Ä–µ–¥–µ
make dev-up
yarn dev

# –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ä–µ–¥–µ
make test-feature
```

### –¢–∏–ø—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Ñ–∏—á
2. **–†–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–µ** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞–ª–æ—Å—å
3. **UI/UX** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
4. **API** - –ø—Ä–æ–≤–µ—Ä–∫–∞ endpoints
5. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ LICD –∏–∑–º–µ–Ω–µ–Ω–∏–π

```bash
# –ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏ LICD
make rebuild-licd-test

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ LICD API
curl http://localhost:8083/api/health
```

## üöÄ –†–µ–ª–∏–∑

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ä–µ–ª–∏–∑—É

1. **–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ main –∞–∫—Ç—É–∞–ª–µ–Ω**

```bash
git checkout main
git pull origin main
```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ PR —Å–º–µ—Ä–∂–µ–Ω—ã**

3. **–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

```bash
make test-feature
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–∞

1. **–û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é** –≤ `package.json`
2. **–û–±–Ω–æ–≤–∏—Ç–µ CHANGELOG.md**
3. **–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ–≥**

```bash
git tag -a v1.0.1 -m "Release v1.0.1: –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ–≥–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤"
git push origin v1.0.1
```

### –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤ –ø–æ —Ç–µ–≥–∞–º (CI/CD)

–°–±–æ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è Docker-–æ–±—Ä–∞–∑–æ–≤ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø—É—à–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ç–µ–≥–æ–≤. –û–±—ã—á–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã –≤ –≤–µ—Ç–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `feature/*`) CI –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç.

- –§–æ—Ä–º–∞—Ç —Ç–µ–≥–∞: `<service>-v<semver>`
- –î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è `<service>`:
    - `hw-monitor` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π Next.js —Å–µ—Ä–≤–∏—Å
    - `hw-monitor-licd` ‚Äî —Å–µ—Ä–≤–∏—Å –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏—è LICD
    - `hw-monitor-nginx-combined` ‚Äî –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–π Nginx (proxy + storage)
- –°–µ–º–∞–Ω—Ç–∏–∫–∞ –≤–µ—Ä—Å–∏–π:
    - `X.Y.Z-alpha` ‚Äî –∞–ª—å—Ñ–∞-—Å—Ç—Ä–∏–º (–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Å–±–æ—Ä–∫–∏)
    - `X.Y.Z` ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Ä–µ–ª–∏–∑

–ß—Ç–æ –¥–µ–ª–∞–µ—Ç CI –ø—Ä–∏ –ø—É—à–µ —Ç–µ–≥–∞:

- –°–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑ —Ç–æ–ª—å–∫–æ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∏ –ø—É–±–ª–∏–∫—É–µ—Ç –¥–≤–∞ Docker-—Ç–µ–≥–∞:
    - alias-—Ç–µ–≥: `alpha` (–¥–ª—è `-alpha`) –∏–ª–∏ `latest` (–¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö)
    - –≤–µ—Ä—Å–∏–æ–Ω–Ω—ã–π —Ç–µ–≥: `<service>-vX.Y.Z[-alpha[.N]]`
- –î–ª—è `X.Y.Z-alpha` –±–µ–∑ —á–∏—Å–ª–æ–≤–æ–≥–æ —Å—É—Ñ—Ñ–∏–∫—Å–∞ CI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç –Ω–æ–º–µ—Ä —Å–±–æ—Ä–∫–∏ `.N` –ø–æ –∏—Å—Ç–æ—Ä–∏–∏ —Ç–µ–≥–æ–≤.
  –ü—Ä–∏–º–µ—Ä: git-—Ç–µ–≥ `hw-monitor-v1.0.0-alpha` ‚Üí Docker-—Ç–µ–≥–∏:
    - `deymonster/hw-monitor:alpha`
    - `deymonster/hw-monitor:hw-monitor-v1.0.0-alpha.3` (–Ω–æ–º–µ—Ä .3 –±—É–¥–µ—Ç –≤—ã—á–∏—Å–ª–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- –î–ª—è —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö: git-—Ç–µ–≥ `hw-monitor-v1.0.0` ‚Üí Docker-—Ç–µ–≥–∏:
    - `deymonster/hw-monitor:latest`
    - `deymonster/hw-monitor:hw-monitor-v1.0.0`

–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ –ø—É—à–∞ —Ç–µ–≥–æ–≤:

1. Next.js (hw-monitor)

- –ê–ª—å—Ñ–∞:
    ```bash
    git tag hw-monitor-v1.0.0-alpha
    git push origin hw-monitor-v1.0.0-alpha
    ```
- –°—Ç–∞–±–∏–ª—å–Ω—ã–π:
    ```bash
    git tag hw-monitor-v1.0.0
    git push origin hw-monitor-v1.0.0
    ```

2. LICD (hw-monitor-licd)

- –ê–ª—å—Ñ–∞:
    ```bash
    git tag hw-monitor-licd-v1.0.0-alpha
    git push origin hw-monitor-licd-v1.0.0-alpha
    ```

3. Nginx Combined (hw-monitor-nginx-combined)

- –ê–ª—å—Ñ–∞:
    ```bash
    git tag hw-monitor-nginx-combined-v1.0.0-alpha
    git push origin hw-monitor-nginx-combined-v1.0.0-alpha
    ```

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–≥–∞–º–∏:

- –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–≥–æ–≤:
    ```bash
    git tag --list "hw-monitor*"
    ```
- –£–¥–∞–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ–≥–∞:
    ```bash
    git tag -d hw-monitor-v1.0.0-alpha
    ```
- –£–¥–∞–ª–µ–Ω–∏–µ —Ç–µ–≥–∞ –∏–∑ —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
    ```bash
    git push origin :refs/tags/hw-monitor-v1.0.0-alpha
    ```

–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:

- –¢–µ–≥–∏ –≤–∏–¥–∞ `v1.0.1` (–±–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞) –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç —Å–±–æ—Ä–∫—É Docker-–æ–±—Ä–∞–∑–æ–≤ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–µ —Ç–µ–≥–∏, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤—ã—à–µ.
- –ï—Å–ª–∏ –Ω—É–∂–µ–Ω —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–æ–º–µ—Ä –∞–ª—å—Ñ–∞-–±–∏–ª–¥–∞, —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –µ–≥–æ –ø—Ä—è–º–æ –≤ git-—Ç–µ–≥–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä: `hw-monitor-v1.0.0-alpha.7`.
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ Dockerfile:
    - `hw-monitor` ‚Üí `Dockerfile` (–∫–æ–Ω—Ç–µ–∫—Å—Ç `.`)
    - `hw-monitor-licd` ‚Üí `licd/Dockerfile` (–∫–æ–Ω—Ç–µ–∫—Å—Ç `./licd`)
    - `hw-monitor-nginx-combined` ‚Üí `Dockerfile.nginx-combined` (–∫–æ–Ω—Ç–µ–∫—Å—Ç `.`)

### –î–µ–ø–ª–æ–π –≤ –ø—Ä–æ–¥–∞–∫—à–Ω

```bash
# –ù–∞ –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä–µ
git pull origin main
docker-compose -f docker-compose.prod.yml down
docker-compose -f docker-compose.prod.yml up --build -d
```

## Installer Script (Production)

Run on a clean Ubuntu/Debian host:

```bash
bash scripts/install.sh --server-ip 192.168.1.10 --admin-email admin@example.com
```

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∫—Ä–∏–ø—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

- `--server-ip` ‚Äî IP/–¥–æ–º–µ–Ω —Å–µ—Ä–≤–µ—Ä–∞
- `--admin-email` ‚Äî –ø–æ—á—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

Flags:

- `--server-ip` ‚Äî –ø—É–±–ª–∏—á–Ω—ã–π IP/—Ö–æ—Å—Ç (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `.env.prod`)
- `--admin-email` ‚Äî –ø–æ—á—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- `--admin-password` ‚Äî –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è)
- `--telegram-bot-token` ‚Äî —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

The script installs Docker/Compose, generates `.env.prod`, prepares storage dirs, and starts `docker-compose.prod`.

### SMTP

–î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å–µ–º –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤ `.env.prod`:

```env
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_smtp_username
SMTP_PASSWORD=your_smtp_password
SMTP_FROM="HW Monitor <noreply@example.com>"
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–ø—Ä–∞–≤–∫—É –ø–∏—Å–µ–º —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è –∏–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### Make –∫–æ–º–∞–Ω–¥—ã

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
make dev-up          # –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–∏—Å–æ–≤
make dev-down        # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ dev —Å–µ—Ä–≤–∏—Å–æ–≤
make dev-logs        # –õ–æ–≥–∏ dev —Å–µ—Ä–≤–∏—Å–æ–≤
make dev-clean       # –û—á–∏—Å—Ç–∫–∞ dev —Å—Ä–µ–¥—ã

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make test-up         # –ó–∞–ø—É—Å–∫ test —Å—Ä–µ–¥—ã
make test-down       # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ test —Å—Ä–µ–¥—ã
make test-logs       # –õ–æ–≥–∏ test —Å—Ä–µ–¥—ã
make test-clean      # –û—á–∏—Å—Ç–∫–∞ test —Å—Ä–µ–¥—ã

# LICD
make build-licd      # –°–±–æ—Ä–∫–∞ LICD
make rebuild-licd-dev # –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ LICD –≤ dev
make rebuild-licd-test # –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ LICD –≤ test

# –£—Ç–∏–ª–∏—Ç—ã
make status          # –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å—Ä–µ–¥
make help           # –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
```

### Yarn –∫–æ–º–∞–Ω–¥—ã

```bash
yarn dev            # –ó–∞–ø—É—Å–∫ Next.js –≤ dev —Ä–µ–∂–∏–º–µ
yarn build          # –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞
yarn start          # –ó–∞–ø—É—Å–∫ –ø—Ä–æ–¥–∞–∫—à–Ω —Å–±–æ—Ä–∫–∏
yarn lint           # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
yarn format         # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
yarn type-check     # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ TypeScript
```

### Git –∫–æ–º–∞–Ω–¥—ã

```bash
# –†–∞–±–æ—Ç–∞ —Å –≤–µ—Ç–∫–∞–º–∏
git checkout -b feature/new-feature
git checkout main
git branch -d feature/old-feature

# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
git pull origin main
git push origin feature-branch

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
git status
git log --oneline
git branch -a
```

### Docker –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker ps
docker ps -a

# –õ–æ–≥–∏
docker logs container_name
docker logs -f container_name

# –û—á–∏—Å—Ç–∫–∞
docker system prune
docker volume prune
```

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ—Ä—Ç–∞–º–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–Ω—è—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤
lsof -i :3000
lsof -i :5432

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å—Ä–µ–¥
make dev-down
make test-down
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

```bash
# –°–±—Ä–æ—Å dev –ë–î
make dev-clean
make dev-up

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
npx prisma migrate dev
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å Docker

```bash
# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ Docker
docker system prune -a
docker volume prune

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
make test-clean
make test-up
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å LICD

```bash
# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ LICD
make rebuild-licd-dev
make rebuild-licd-test

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ LICD
docker logs licd_dev
docker logs licd_test
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —ç—Ç–æ—Ç README
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏: `make dev-logs` –∏–ª–∏ `make test-logs`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `make status`
4. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
5. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∫–æ–º–∞–Ω–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

**–£–¥–∞—á–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏! üöÄ**
